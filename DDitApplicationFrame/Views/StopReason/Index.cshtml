@{
    //这里必须设置为null 因为我们前台没有用MVC的模板页 而是用的标签展示
    Layout = null;
}
@* 每个展示页面都要加入下面的引用文件 本人把所有JS Css 都用 App_Start->BundleConfig 捆绑生成 MVC特性  *@
@Styles.Render("~/Scripts/bootstrap/css/1", "~/Scripts/datatables/css/1", "~/Content/1", "~/Scripts/alertjs/themes/1", "~/Scripts/select2/css/1", "~/Scripts/iconpicker/css/1", "~/Scripts/fancyTree/skin-win7/1", "~/Scripts/fileUpload/1")
@Scripts.Render("~/bundles/js")

<script type="text/javascript">
    $(function () {
        var reasonCodeTable = $('#reasonCodeTable').custromTable({
            ajax: {
                url: "/StopReason/GetStopReasonList",
                data: function (d) {
                    d.Full_Code = $("#FullCode").val();
                    return JSON.stringify(d);
                }
            },
            columns: [
                { data: 'ReasonCodeID', visible: false },
                { data: 'Lv1_Code', title: "代码(一级)" },
                { data: 'Lv1_Desc', title: "描述(一级)" },
                { data: 'Lv2_Code', title: "代码(二级)" },
                { data: 'Lv2_Desc', title: "描述(二级)" },
                { data: 'Lv3_Code', title: "代码(三级)" },
                { data: 'Lv3_Desc', title: "描述(三级)" },
                { data: 'Subreason_Code', title: "原因代码类别" },
                { data: 'Work_Center', title: "成本中心" }
            ]
        });
        $("#reasonCodeQuery").click(function () {
            reasonCodeTable.ajax.reload();
        })
    })
</script>
<div class="margin w100f xoverhide">
    <div class="panel panel-default" style="margin-top: 10px">
        <ul class="list-group">
            <li class="list-group-item">
                <button type="button" class="btn btn-default" id="reasonCodeCreate">
                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> 新增
                </button>
                <button type="button" class="btn btn-default" id="reasonCodeEdit">
                    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> 编辑
                </button>
                <button type="button" class="btn btn-default" id="reasonCodeDelete">
                    <span class="glyphicon glyphicon-remove" aria-hidden="true"></span> 删除
                </button>
                <button type="button" class="btn btn-default" id="reasonCodeImport">
                    <span class="glyphicon glyphicon glyphicon-lock" aria-hidden="true"></span> 导入
                </button>
                <button type="button" class="btn btn-default" id="reasonCodeExport">
                    <span class="glyphicon glyphicon glyphicon-lock" aria-hidden="true"></span> 导出
                </button>
            </li>
            <li class="list-group-item">
                <form class="form-inline" onsubmit="return false;">
                    <div class="form-group">
                        <label for="FullCode">完整停机代码</label>
                        <input type="text" class="form-control" id="FullCode" placeholder="停机代码(比如:00A0)">
                    </div>
                    <button type="button" class="btn btn-info " id="reasonCodeQuery">
                        <span class="glyphicon glyphicon-search" aria-hidden="true"></span> 查询
                    </button>
                </form>
            </li>
        </ul>
    </div>
    <table id="reasonCodeTable" class="table table-bordered table-striped w100f" cellspacing="0"></table>
</div>